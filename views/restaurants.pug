extends ./layouts/main.pug


block body
  ul.nav.nav-pills
    li.nav-item
      if categoryId == ""
        a.nav-link.active(href='?categoryId=') 全部
      else
        a.nav-link(href='?categoryId=') 全部
    each category in categories
      li.nav-item
        if category.id == categoryId
          a.nav-link.active(href=`?categoryId=${category.id}` ) #{category.name}
        else
          a.nav-link(href=`?categoryId=${category.id}`) #{category.name}
  br
  .row
    each restaurant in restaurants
      .col-md-4
        .card.mb-4.shadow-sm
          img.card-img-top(src=restaurant.image, alt='Card image cap', width='286px', height='180px')
          .card-body
            p.card-text
              a(href=`/restaurants/${restaurant.id}`)
                | #{restaurant.name}
            span.badge.badge-secondary #{restaurant.categoryName}
            p.card-text #{restaurant.description}
  br
  br
  nav(aria-label='Page navigation example')
  ul.pagination
    li.page-item
      a.page-link(href=`/restaurants?page=${prev}&categoryId=${categoryId}`, aria-label='Previous')
        span(aria-hidden='true') «
    each page in totalPage
      if currentPage == page
        li.page-item.active
          a.page-link(href='#') #{page}
      else
        li.page-item
          a.page-link(href=`/restaurants?page=${page}&categoryId=${categoryId}`) #{page}
    a.page-link(href=`/restaurants?page=${next}&categoryId=${categoryId}`, aria-label='Next')
      span(aria-hidden='true') »

